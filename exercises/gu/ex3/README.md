This program uses the Barnes-Hut algorithm (stored in `tree.f90`) to perform an N-body simulation with the particles generated by `particulas.f90` and stored in a file called `initial_conditions.dat`. The output is stored in the `output.dat` file, which is structured as: t x1 y1 z1 x2 y2 z2 ... xn yn zn.

# OpenMPI
The thread with rank = 0 was designed as master. This thread performs the same calculations as all other threads, and in addition is the only one to handle input/output.\
The program uses MPI derived types which are counterparts to the derived data types we had to create for the first exercise. They are created using an auxiliary module, `create_mpi_types`.\
The structure of the program is as follows:
1. Master node initializes the clock.
2. Master node reads the input file.
3. Master node sends info from input file (times, number of particles, initial conditions) to all other nodes using `mpi_bcast`.
4. All nodes calculate the starting tree, and how many particles they will be working with (sending the same number of particles to each node, and any leftover particles if the division is not exact to the last node).
6. Each node calculates the initial accelerations for the particles it's assigned. It receives its section of the particles from the master node and updates them.
7. All nodes share the new positions using `mpi_allgatherv`.
8. All nodes build their tree again, calculate their section of the accelerations, get and update their section of the particles, and then share them with all other nodes.
9. All nodes update the timer.
10. Master node checks if an output should be written, and if it does, it writes it. A barrier is placed here so all other nodes idle while the output is written.
11. All nodes check if loop should be started again. If affirmative, steps 6-11 are repeated. This happens until the end time is reached.
12. Master node closes the output file.
13. Master node checks the clock and outputs the elapsed time.
